<div class="container-fluid">
<h1>Lista de reservas del usuario {{nombre_usuario}}</h1>
<div *ngIf="reservaeliminada" class="alert alert-success" role="alert">
  Se ha cancelado la reserva
</div>
<div *ngIf="reservaeliminarerror" class="alert alert-danger" role="alert">
  Se ha producido un error al registrar el vehículo. Inténtelo de nuevo en unos minutos.
</div>

<div class="col">
    
</div>
<div role="group" aria-label="Button group with nested dropdown">
    Mostrar:

    <div class="d-inline-block me-2">
      
    </div>
    
    <div class="d-inline-block me-4">
      <button type="button" class="btn btn-primary " (click)="mostrarActivas()">
        Activas
      </button>
    </div>
    <div class="d-inline-block me-4">
      <button type="button" class="btn btn-primary" (click)="mostrarCompletadas()">
        Completadas
      </button>
    </div>
    
  </div>

<hr>

<div class="row">
      <div class="col">
        <ol *ngIf="activas" class="list-group list-group-numbered">
            <div *ngIf="reservasposteriores.length == 0">
              <p class="text-center">No tiene reservas activas</p>
            </div>
            <li  *ngFor="let reservaactiva of reservasposteriores" class="list-group-item d-flex justify-content-between align-items-start">
              <div class="ms-2 me-auto">
                <div class="fw-bold">Marca</div>
                Fecha de inicio: {{reservaactiva.fechaInicio}}
                
                <br>
                Fecha de fin: {{reservaactiva.fechaFin}}
                <br>
                
              </div>
              <button type="button"  (click)="mostrarDetallesActiva(reservaactiva)" class="btn btn-primary badge text-bg-primary rounded-pill">Mostrar Detalles</button>
            </li>
            
          </ol>

          <ol *ngIf="completadas" class="list-group list-group-numbered">
            <div *ngIf="reservasanteriores.length == 0">
              <p class="text-center">No tiene reservas previas</p>
            </div>
            <li *ngFor="let reservaanterior of reservasanteriores" class="list-group-item d-flex justify-content-between align-items-start">
              <div class="ms-2 me-auto">
                <div class="fw-bold">Reserva número: {{reservaanterior.idreserva}} </div>
                Fecha de inicio: {{reservaanterior.fechaInicio}} 
                <br>
                Fecha de fin: {{reservaanterior.fechaFin}}
                <br>
                
              </div>
              <button type="button"  (click)="mostrarDetallesActiva(reservaanterior)" class="btn btn-primary badge text-bg-primary rounded-pill">Mostrar Detalles</button>
            </li>
            
          </ol>

      </div>
      <div  class="col">
            <p class="text-center">Detalles</p>
            <img *ngIf="mostrarDetalles" [src]="cocheDetalle.urlfotos" class="card-img-top" alt="Falta imagen" height="40%" width="10%">
            <br>
            <div *ngIf="mostrarDetalles">
                <br>
                Detalles del vehiculo de la reserva: {{cocheDetalle.marca}} {{cocheDetalle.modelo}} {{cocheDetalle.matricula}}
                <br>
                Usuario tomador de la reserva:
                <br>
                Hora de inicio: {{reservaDetalle.fechaInicio}}
                <br>
                Hora de fin: {{reservaDetalle.fechaFin}}
                <br>
                Precio total
                <br>
                Estado de la reserva: {{reservaDetalle.estado}}

                <br>

                Identificador de la reserva: {{reservaDetalle.idreserva}}
                <br>
                <div *ngIf="activas" class="container text-center">
                  <div class="row">
                    <div class="col">
                    <button type="button" class="btn btn-primary" (click)="eliminarReserva(reservaDetalle.idreserva)">Cancelar</button>
                    </div>
                    <div class="col">
                    <button type="button" class="btn btn-primary">Modificar</button>
                    </div>
                  </div>
                
                
                
            </div>
            
            
      </div>
    </div>



</div>


